CompileFlags:
    CompilationDatabase: builddir/release
    Add: [--target=arm-arm-none-eabi]

---
If:
    PathMatch: [src/.*]

CompileFlags:
    Add: [-Weverything,
          -Wno-documentation-unknown-command,
          -Wno-covered-switch-default,
          -Wno-gnu-binary-literal,
          -Wno-reserved-identifier,
          -Wno-deprecated-volatile,
          -Wno-c++98-c++11-compat-binary-literal,
          -Wno-c++98-compat-pedantic,
          -Wno-c++20-compat-pedantic,
          -Wno-old-style-cast,
          -Wno-exit-time-destructors,
          -Wno-global-constructors]

---
If:
    PathMatch: [subprojects/.*]

CompileFlags:
    Remove: [-W*]
    Add: [-Wno-everything]

---
Diagnostics:
  UnusedIncludes: None

---
Diagnostics:
  ClangTidy:
    Add: [
        modernize*,
        bugprone*,
        cppcoreguidelines*,
        misc*,
        performance*,
        portability*,
        readability*,
    ]

    Remove: [
        performance-no-int-to-ptr,
        cppcoreguidelines-pro-type-cstyle-cast,
        cppcoreguidelines-avoid-magic-numbers,
        readability-magic-numbers,
        bugprone-unchecked-optional-access,
    ]

---
Diagnostics:
  ClangTidy:
    CheckOptions:
      readability-identifier-naming.VariableCase: lower_case
      readability-identifier-naming.GlobalConstantCase: UPPER_CASE
      readability-identifier-naming.ClassCase: CamelCase
      readability-identifier-naming.EnumCase: CamelCase