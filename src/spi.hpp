#pragma once
/**
 * -------------------------------------------------------------------------------------------------
 * @author  Ryan Sullivan (ryansullivan@googlemail.com)
 *
 * @file    spi.h
 * @brief   Header.
 *
 * @date    2021-04-09
 * -------------------------------------------------------------------------------------------------
 */

#include <cstdint>

namespace spi {
/*------------------------------------------------------------------------------------------------*/
/*-constant-definitions---------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------*/

/*------------------------------------------------------------------------------------------------*/
/*-exported-variables-----------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------*/

/*------------------------------------------------------------------------------------------------*/
/*-exported-functions-----------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------*/

void initialise(void);

bool    transfer_in_progress(void);
uint8_t rx_buffer_read(void);
void    tx_buffer_write(uint8_t byte);
void    transfer_data(uint32_t rx_bytes);

void dma1_channel2_isr(void);
void dma1_channel3_isr(void);
void error_isr(void);

/*------------------------------------------------------------------------------------------------*/
/*-end-of-module----------------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------*/
}
