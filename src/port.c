/*----------------------------------------------------------------------------*/
/*
    Ryan Sullivan

    Module Name     :
    Description     :
*/
/*----------------------------------------------------------------------------*/

#include <stdbool.h>
#include <stdint.h>
#include <stddef.h>

#include "stm32f3xx_ll_gpio.h"

#include "port.h"

/*----------------------------------------------------------------------------*/
/*-constant-definitions-------------------------------------------------------*/
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/*-exported-variables---------------------------------------------------------*/
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/*-static-variables-----------------------------------------------------------*/
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/*-forward-declarations-------------------------------------------------------*/
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/*-exported-functions---------------------------------------------------------*/
/*----------------------------------------------------------------------------*/

void port_set( uint32_t port_pin )
{
    uint32_t        pin = ( 1 << ( port_pin % 16 ) );
    GPIO_TypeDef    *port   = NULL;

    if( port_pin <= PORT_A15 )
    {
        port = GPIOA;
    }
    else if( port_pin <= PORT_B15 )
    {
        port = GPIOB;
    }
    else if( port_pin <= PORT_C15 )
    {
        port = GPIOC;
    }
    else if( port_pin <= PORT_D15 )
    {
        port = GPIOD;
    }
    else if( port_pin <= PORT_E15 )
    {
        port = GPIOE;
    }
    else if( port_pin <= PORT_F10 )
    {
        port = GPIOF;
    }
    else
    {

    }

    LL_GPIO_SetOutputPin( port, pin );
}

/*----------------------------------------------------------------------------*/

void port_clear( uint32_t port_pin )
{
    uint32_t        pin = ( 1 << ( port_pin % 16 ) );
    GPIO_TypeDef    *port   = NULL;

    if( port_pin <= PORT_A15 )
    {
        port = GPIOA;
    }
    else if( port_pin <= PORT_B15 )
    {
        port = GPIOB;
    }
    else if( port_pin <= PORT_C15 )
    {
        port = GPIOC;
    }
    else if( port_pin <= PORT_D15 )
    {
        port = GPIOD;
    }
    else if( port_pin <= PORT_E15 )
    {
        port = GPIOE;
    }
    else if( port_pin <= PORT_F10 )
    {
        port = GPIOF;
    }
    else
    {

    }

    LL_GPIO_ResetOutputPin( port, pin );
}

/*----------------------------------------------------------------------------*/
/*-static-functions-----------------------------------------------------------*/
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/*-end-of-module--------------------------------------------------------------*/
/*----------------------------------------------------------------------------*/
