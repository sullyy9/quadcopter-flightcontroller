/**
 * -------------------------------------------------------------------------------------------------
 * @author  Ryan Sullivan (ryansullivan@googlemail.com)
 *
 * @file    i2c.h
 * @brief   Header.
 *
 * @date    2021-04-04
 * -------------------------------------------------------------------------------------------------
 */

/*------------------------------------------------------------------------------------------------*/
/*-constant-definitions---------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------*/

typedef enum i2c_addresses
{
    I2C_ADDRESS_ACCEL = 0b00110010,
    I2C_ADDRESS_MAG   = 0b00111100

} i2c_address_t;

typedef enum i2c_transmit_type
{
    I2C_TRANSMIT_NORMAL,
    I2C_TRANSMIT_REQUEST

} i2c_transmit_type_t;

/*------------------------------------------------------------------------------------------------*/
/*-exported-variables-----------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------*/

/*------------------------------------------------------------------------------------------------*/
/*-exported-functions-----------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------*/

void i2c_initialise(void);

bool i2c1_transfer_in_progress(void);

void i2c1_tx_buffer_write(uint8_t data);
void i2c1_tx_data(i2c_address_t device, i2c_transmit_type_t type);

uint8_t i2c1_rx_buffer_read(void);
void    i2c1_rx_data(i2c_address_t device, uint32_t number_bytes);

void i2c1_dma1_channel6_isr(void);
void i2c1_dma1_channel7_isr(void);
void i2c1_ev_isr(void);
void i2c1_er_isr(void);

/*------------------------------------------------------------------------------------------------*/
/*-end-of-module----------------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------*/
