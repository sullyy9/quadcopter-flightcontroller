/*----------------------------------------------------------------------------*/
/*
    Ryan Sullivan

    Module Name     :   main.c
    Description     :   main program
*/
/*----------------------------------------------------------------------------*/

#include <stdbool.h>
#include <stdint.h>

#include "main.h"
#include "io.h"
#include "utils.h"
#include "debug.h"
#include "commonio.h"
#include "comms.h"
#include "port.h"

/*----------------------------------------------------------------------------*/
/*-constant-definitions-------------------------------------------------------*/
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/*-exported-variables---------------------------------------------------------*/
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/*-static-variables-----------------------------------------------------------*/
/*----------------------------------------------------------------------------*/

volatile uint16_t frick_timer = 0;


/*----------------------------------------------------------------------------*/
/*-forward-declarations-------------------------------------------------------*/
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/*-exported-functions---------------------------------------------------------*/
/*----------------------------------------------------------------------------*/

int main( void )
{

    io_initialise( );

    commonio_clear_reset_flags( );

    utils_wait_ms( 1000 );

    debug_printf( "\r\n" );
    debug_printf( "start------\r\n" );

    uint32_t count = 0;
    while( 1 )
    {
        debug_printf( "hello hello hello again: %d\r\n", count );
        utils_wait_ms( 10 );
        count++;
    }

    while( 1 );

    return( 0 );
}

/*----------------------------------------------------------------------------*/

void main_1ms_timer_isr( void )
{
    io_1ms_poll( );
    utils_1ms_poll( );
}

/*----------------------------------------------------------------------------*/
/*-static-functions-----------------------------------------------------------*/
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/*-end-of-module--------------------------------------------------------------*/
/*----------------------------------------------------------------------------*/
